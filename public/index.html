<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>D&D Spell Cards</title>

    <link rel="stylesheet" href="styles.css">

    <!-- https://unpkg.com/mustache@latest/mustache.min.js -->
    <script src="../lib/mustache.min.js"></script>

    <!-- todo: put this in the lib folder? -->
    <!-- original reason not to, was because it makes onboarding easier. -->
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/FunctionsImport.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/Functions0.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/Functions1.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/Functions2.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/Functions3.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/FunctionsSpells.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_functions/FunctionsResources.js"></script>

    <script src="../src/mpmb-host.js"></script>

    <script src="../../2024_MPMBs-Character-Record-Sheet/_variables/Lists.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_variables/ListsSpells.js"></script>

    <!-- <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsBackgrounds.js"></script> -->
    <!-- <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsClasses.js"></script>-->
    <script src="../../2024_MPMBs-Character-Record-Sheet/_variables/ListsCompanions.js"></script>
    <script src="../../2024_MPMBs-Character-Record-Sheet/_variables/ListsCreatures.js"></script>
    <!--<script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsEvals.js"></script>
    <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsFeats.js"></script>
    <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsGear.js"></script>-->
    <script src="../../2024_MPMBs-Character-Record-Sheet/_variables/ListsMagicItems.js"></script>
    <!-- <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsPsionics.js"></script>
    <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsRaces.js"></script>
    <script src="../2024_MPMBs-Character-Record-Sheet/_variables/ListsSources.js"></script> -->

<body>
    <div id="app"></div>

    <template id="root-template">
        {{#sections}}
        <section>
            {{#spell-cards.pages}}
            <div class="page">
                <div class="grid grid-{{grid_size}}">
                    {{#cards}}
                    {{> spell-card}}
                    {{/cards}}
                </div>
            </div>
            {{/spell-cards.pages}}
        </section>
        <section>
            {{#monster-cards.pages}}
            <div class="page">
                <div class="grid grid-{{grid_size}}">
                    {{#cards}}
                    {{> monster-card}}
                    {{/cards}}
                </div>
            </div>
            {{/monster-cards.pages}}
        </section>
        {{/sections}}
    </template>

    <template id="character-sheet-template">
        <div class="page">
            <div>Name: {{name}}</div>
        </div>
    </template>

    <template id="spell-card-template">
        <div class="card spell-card" data-key="{{key}}">
            <div>
                <span class="name">{{name}}</span><br>
                <span class="subtitle">{{vm.subtitle}}</span><br>
            </div>

            <div class="summary">{{vm.summary}}</div>

            <div>
                <span class='label'>Casting Time: </span>{{vm.time}}<br>
                <span class='label'>Range: </span>{{vm.range}}<br>
                <span class='label'>Components: </span>{{vm.components}}<br>
                <span class='label'>Duration: </span>{{vm.duration}}<br>
            </div>

            <div>
                <span class="description">{{{vm.descriptionHtml}}}</span>
            </div>

            <div class="spacer"></div>

            <div class="source">
                {{vm.source}}
            </div>
        </div>
    </template>

    <template id="monster-card-template">
        <div class="card monster-card" data-key="{{key}}">
            <div class="row">
                <div>Name: {{name}}</div>
                <div>AC: {{ac}}</div>
                <div>Actions: {{actions}}</div>
                <div>CR: {{challengeRating}}</div>
                <div>condition_immunities: {{condition_immunities}}</div>
                <div>damage_immunities: {{damage_immunities}}</div>
                <div>damage_resistances: {{damage_resistances}}</div>
                <div>hp: {{hp}}</div>
                <div>languages: {{languages}}</div>
                <div>Proficiency Bonus: {{proficiencyBonus}}</div>
                <div>Scores: {{scores}}</div>
                <div>Senses: {{senses}}</div>
                <div>Size: {{size}}</div>
                <div>Source: {{source}}</div>
                <div>Speed: {{speed}}</div>
                <div>Traits: {{source}}</div>
                <div>Type: {{source}}</div>
            </div>

            <div class="row">
                <div>Alignment: {{alignmnet}}</div>
                <div>attacksAction: {{attacksAction}}</div>
                <div>hd: {{hd}}</div>
                <div>nameAlt: {{nameAlt}}</div>
            </div>

        </div>
    </template>

    <script src="../src/main.js"></script>
    <script src="../src/render.js"></script>
    <script src="../src/format.js"></script>
    <script src="../src/string-util.js"></script>

    <script>
        (async () => {
            mpmb.init();
            const result = await main.init();
            result.monsters = Object.values(mpmb.lists.CreatureList);
            main.render(result);
        })()
    </script>

</body>